<!DOCTYPE html>
<html lang="en" style="scroll-behavior: smooth;">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TH Residence - Shophouse Details</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <link rel="stylesheet" href="shophouse.css">
    <link rel="stylesheet" href="style.css"> </head>

<body class="flex flex-col min-h-screen"> <nav id="main-navbar" class="bg-white py-5 px-4 shadow-md flex justify-between items-center flex-wrap fixed w-full z-50 md:justify-between transition-all duration-300 ease-in-out top-0">
        <div class="flex items-center space-x-8 rounded-md px-8">
           <img src="Image/Asset 1@3x.png" alt="Company Logo" class="h-10 w-10 rounded-full">
        </div>

        <div class="md:hidden">
            <button id="mobile-menu-button" class="text-black hover:text-[#3c0008] focus:outline-none focus:ring-2 focus:ring-[#3c0008]  ">
                <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-menu"><line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/></svg>
            </button>
        </div>

        <ul id="nav-menu-desktop" class="hidden md:flex md:space-x-0 flex-col md:flex-row">
            </ul>
    </nav>

    <div id="mobile-menu-overlay" class="fixed inset-0 bg-black bg-opacity-50 z-40 hidden opacity-0 transition-opacity duration-300 ease-in-out"></div>

    <div id="nav-menu-mobile" class="fixed top-0 right-0 h-full w-64 bg-white shadow-lg z-50 transform translate-x-full transition-transform duration-300 ease-in-out md:hidden">
        <div class="p-4 flex justify-end">
            <button id="mobile-menu-close-button" class="text-black hover:text-[#3c0008] focus:outline-none focus:ring-2 focus:ring-[#3c0008] rounded-md ">
                <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-x"><path d="M18 6 6 18"/><path d="m6 6 12 12"/></svg>
            </button>
        </div>
        <ul class="flex flex-col space-y-2">
            </ul>
    </div>

    <main class="flex-grow w-full bg-gray-100">
        <div class="max-w-7xl mx-auto px-4">

            <section class="rounded-lg p-6 text-center bg-white shadow-lg">
                <h1 class="text-[18px] md:text-[20px] font-bold text-gray-800 mb-3">SHOPHOUSE | ផ្ទះអាជីវកម្ម</h1>

                <div class="flex flex-col md:flex-row justify-center items-center space-y-2 md:space-y-0 md:space-x-8 text-gray-700  font-medium mb-6">
                    <h2 class="text-[12px] md:text-[14px]">ទំហំដី | Land Size: 4.5m x 20m</h2>
                    <h2 class="text-[12px] md:text-[14px]">ទំហំផ្ទះ | House Size: 4.5m x 14m</h2>
  
                </div>

                <div class="carousel-container mb-8">
                    <div id="shophouse-carousel" class="carousel-inner">
                        </div>
                    <button id="shophouse-prev" class="carousel-nav-button left">
                        <i class="fa-solid fa-chevron-left"></i>
                    </button>
                    <button id="shophouse-next" class="carousel-nav-button right">
                        <i class="fa-solid fa-chevron-right"></i>
                    </button>
                    <div id="shophouse-indicators" class="carousel-indicators">
                        </div>
                </div>
                <a href="https://momento360.com/e/uc/639996f7f2e4447eafd18d52c7c0d07e?utm_campaign=embed&utm_source=other&size=medium&display-plan=true" target="_blank" class="inline-block bg-[#7E252C] text-white py-3 px-8 rounded-md hover:bg-red-800 transition duration-300 ease-in-out text-xl font-semibold shadow-lg ">View 3D Model</a>
            </section>

            <section class="mb-12 px-4 py-4 bg-gray-50 rounded-lg shadow-inner mt-8" data-aos="fade-up" data-aos-duration="1000">
                <h2 class="text-[18px] md:text-[20px] font-bold text-gray-800 mb-3 text-center">FLOOR PLAN | ប្លង់ផ្ទះ</h2>
                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
                    <div class="plan-image-container p-4">
                        <img src="https://res.cloudinary.com/dwkr6qrpf/image/upload/v1751857740/Screenshot_2025-07-07_at_10.07.51_AM_hbp8oz.png" alt="Shophouse Ground Floor Plan" class="clickable-image" data-group="floorplans" data-fullsrc="https://res.cloudinary.com/dwkr6qrpf/image/upload/v1751857740/Screenshot_2025-07-07_at_10.07.51_AM_hbp8oz.png">
                        <p class="image-caption text-center mt-2">Ground Floor</p>
                    </div>
                    <div class="plan-image-container p-4">
                        <img src="https://res.cloudinary.com/dwkr6qrpf/image/upload/v1751857982/Screenshot_2025-07-07_at_10.11.34_AM_twbpez.png" alt="Shophouse 1st Floor Plan" class="clickable-image" data-group="floorplans" data-fullsrc="https://res.cloudinary.com/dwkr6qrpf/image/upload/v1751857982/Screenshot_2025-07-07_at_10.11.34_AM_twbpez.png">
                        <p class="image-caption text-center mt-2">1st Floor</p>
                    </div>
                    <div class="plan-image-container p-4">
                        <img src="https://res.cloudinary.com/dwkr6qrpf/image/upload/v1751857998/Screenshot_2025-07-07_at_10.12.02_AM_l6zeo1.png" alt="Shophouse 2nd Floor Plan" class="clickable-image" data-group="floorplans" data-fullsrc="https://res.cloudinary.com/dwkr6qrpf/image/upload/v1751857998/Screenshot_2025-07-07_at_10.12.02_AM_l6zeo1.png">
                        <p class="image-caption text-center mt-2">2nd Floor</p>
                    </div>
                    <div class="plan-image-container p-4">
                        <img src="https://res.cloudinary.com/dwkr6qrpf/image/upload/v1751857981/Screenshot_2025-07-07_at_10.12.24_AM_t7fohy.png" alt="Shophouse 3rd Floor Plan" class="clickable-image" data-group="floorplans" data-fullsrc="https://res.cloudinary.com/dwkr6qrpf/image/upload/v1751857981/Screenshot_2025-07-07_at_10.12.24_AM_t7fohy.png">
                        <p class="image-caption text-center mt-2">3rd Floor</p>
                    </div>
                </div>

            </section>

            <section class="mb-12 px-4 py-4 bg-white rounded-lg shadow-lg mt-8" data-aos="fade-up" data-aos-duration="1000">
                <h2 class="text-[18px] md:text-[20px] font-bold text-gray-800 mb-3 text-center"> INTERIOR SPACES | បរិយាកាសខាងក្នុង</h2>

                <div class="flex flex-col sm:flex-row justify-center items-center gap-x-8 gap-y-4 text-gray-700 text-lg mb-3">
                    <div class="flex items-center">
                        <i class="fa-solid fa-bed w-5 h-5 mr-2 text-gray-500"></i>
                        <h2 class="text-[12px] md:text-[14px]">បន្ទប់គេង | Bedroom:<h2 class ="font-bold text-[12px] md:text-[14px]">5</h2>
                       
                    </div>
                    <div class="flex items-center">
                        <i class="fa-solid fa-bath w-5 h-5 mr-2 text-gray-500"></i>
                         <h2 class="text-[12px] md:text-[14px]">បន្ទប់ទឹក | Bathroom:<h2 class ="font-bold text-[12px] md:text-[14px]">6</h2>
                    </div>
                    <div class="flex items-center">
                        <i class="fa-solid fa-box-archive w-5 h-5 mr-2 text-gray-500"></i>
                         <h2 class="text-[12px] md:text-[14px]">បន្ទប់ដាក់ឥវ៉ាន់ | Storage room:<h2 class ="font-bold text-[12px] md:text-[14px]">1</h2>
                    </div>
                </div>

                <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6">
                    <div class="interior-image-container p-4">
                        <img src="https://res.cloudinary.com/dwkr6qrpf/image/upload/v1751083902/RD/shophouse/A-Living_01_f1utp8.png" alt="Living Room" class="clickable-image" data-group="interior-all" data-fullsrc="https://res.cloudinary.com/dwkr6qrpf/image/upload/v1751083902/RD/shophouse/A-Living_01_f1utp8.png">
                        <p class="image-caption text-center mt-2">បន្ទប់ទទួលភ្ញៀវ | Living Room</p>
                    </div>
                    <div class="interior-image-container p-4">
                        <img src="https://res.cloudinary.com/dwkr6qrpf/image/upload/v1751083894/RD/shophouse/A-Kitchen_Op02V02_ezfawu.png" alt="Kitchen" class="clickable-image" data-group="interior-all" data-fullsrc="https://res.cloudinary.com/dwkr6qrpf/image/upload/v1751083894/RD/shophouse/A-Kitchen_Op02V02_ezfawu.png">
                        <p class="image-caption text-center mt-2">ផ្ទះបាយ | Kitchen</p>
                    </div>
                    <div class="interior-image-container p-4">
                        <img src="https://res.cloudinary.com/dwkr6qrpf/image/upload/v1751083896/RD/shophouse/A-Master_Bedroom_01_rake4z.png" alt="Master Bedroom" class="clickable-image" data-group="interior-all" data-fullsrc="https://res.cloudinary.com/dwkr6qrpf/image/upload/v1751083896/RD/shophouse/A-Master_Bedroom_01_rake4z.png">
                        <p class="image-caption text-center mt-2">បន្ទប់គេងធំ | Master Bedroom</p>
                    </div>
                    <div class="interior-image-container p-4">
                        <img src="Image/A-Office 01.png" alt="Office Room" class="clickable-image" data-group="interior-all" data-fullsrc="Image/A-Office 01.png">
                        <p class="image-caption text-center mt-2">បន្ទប់ការិយាល័យ | Office Room  </p>
                    </div>
                    <div class="interior-image-container p-4">
                        <img src="Image/PARTTY.png" alt="Party Room" class="clickable-image" data-group="interior-all" data-fullsrc="Image/PARTTY.png">
                        <p class="image-caption text-center mt-2">បន្ទប់ជប់លៀង | Party Room</p>
                    </div>
                    <div class="interior-image-container p-4">
                        <img src="https://res.cloudinary.com/dwkr6qrpf/image/upload/v1751859054/RD/shophouse/A-Terrace_01_mwfoa1.png" alt="Outdoor Space" class="clickable-image" data-group="interior-all" data-fullsrc="https://res.cloudinary.com/dwkr6qrpf/image/upload/v1751859054/RD/shophouse/A-Terrace_01_mwfoa1.png">
                        <p class="image-caption text-center mt-2">សួនច្បារខាងក្រៅ | Outdoor Space</p>
                    </div>
                </div>


            </section>

            <section class="mb-12 px-4 py-4 bg-white " data-aos="fade-up" data-aos-duration="1000">
                <h2 class="text-3xl font-bold text-black mb-8 text-center">OUR PROCESS</h2>
                <p class="text-lg text-black text-start ">
                    បច្ចុប្បន្នភាពការងារសាងសង់ <br>
                    <h1 class="text-2xl font-bold text-[#3C0008] ">ធីអេច រេស៊ីដេន</h1>
                    <h2 class="text-sm">គម្រោង ដង្កោ I | គិតត្រឹមថ្ងៃទី 10 កក្កដា 2025</h2>
                </p>

                <div class="bar-graph-container">
                    <div class="bar-item foundation-bar">
                        <div class="bar-background">
                            <div class="bar-fill" style="--bar-height: 80%;"></div>
                            <span class="bar-percentage-label ">80%</span>
                        </div>
                        <div class="bar-label-container">
                            <p class="text-label">ការងារគ្រឹះ</p>
                            <p class="text-label">Foundation Work</p>
                        </div>
                    </div>

                    <div class="bar-item wall-bar">
                        <div class="bar-background">
                            <div class="bar-fill" style="--bar-height: 70%;"></div>
                            <span class="bar-percentage-label">70%</span>
                        </div>
                        <div class="bar-label-container">
                            <p class="text-label">ការងារជញ្ជាំង</p>
                            <p class="text-label">Wall Work</p>
                        </div>
                    </div>

                    <div class="bar-item plumbing-bar">
                        <div class="bar-background">
                            <div class="bar-fill" style="--bar-height: 50%;"></div>
                            <span class="bar-percentage-label">50%</span>
                        </div>
                        <div class="bar-label-container">
                            <p class="text-label">ការងារប្រព័ន្ធទឹក</p>
                            <p class="text-label">Plumbing Work</p>
                        </div>
                    </div>

                    <div class="bar-item electrical-bar">
                        <div class="bar-background">
                            <div class="bar-fill" style="--bar-height: 70%;"></div>
                            <span class="bar-percentage-label">70%</span>
                        </div>
                        <div class="bar-label-container">
                            <p class="text-label">ការងារបំពង់ភ្លើង</p>
                            <p class="text-label">Electrical Work</p>
                        </div>
                    </div>
                </div>
            </section>


        </div>
    </main>

    <div class="fixed bottom-4 right-4 z-40">
        <a href="https://momento360.com/e/uc/64e75d37edf947958f7f1a6f79179cbe?utm_campaign=embed&utm_source=other&size=medium&display-plan=true" target="_blank" class="bg-[#7E252C] text-white py-3 px-6 rounded-full shadow-lg hover:bg-red-800 transition duration-300 ease-in-out text-xl font-semibold flex items-center justify-center">
            <i class="fa-solid fa-cube mr-2"></i> View 3D
        </a>
    </div>

    <div id="image-modal" class="modal-overlay">
        <img id="modal-image" src="" alt="Enlarged Image" class="modal-content">
        <button id="prev-image-button" class="modal-nav-button left"><i class="fa-solid fa-chevron-left"></i></button>
        <button id="next-image-button" class="modal-nav-button right"><i class="fa-solid fa-chevron-right"></i></button>
    </div>

   <section id="about-us-section" class="bg-white text-black py-10">
        <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
            <h2 class="text-2xl mb-8 font-bold animate-fade-in-up">ABOUT US</h2>
            <div class="flex flex-col md:flex-row md:space-x-5 mb-10">
                <div class="md:w-1/2 text-left animate-fade-in-up delay-200 flex justify-start items-start mb-8 md:mb-0">
                    <img src="Image/logo.png" alt="Company Logo" class="w-36 h-36 md:w-48 md:h-48 object-contain object-left">
                </div>

                <div class="md:w-1/2 text-left animate-fade-in-up delay-100">
                    <p class="text-base leading-relaxed mb-8">
                        TH Residence is dedicated to providing exceptional living spaces and seamless property solutions. We believe in creating homes that offer comfort, elegance, and lasting value. Our commitment is to make your real estate journey easy, efficient, and rewarding.
                    </p>

                    <div class="grid grid-cols-1 sm:grid-cols-2 gap-5 animate-fade-in-up delay-300">
                        <div class="bg-white border-gray-100 text-left flex flex-col items-start ">
                            <h3 class="text-xl font-bold text-gray-800 mb-3 pb-2 border-b border-gray-200 w-full">FOLLOW US</h3>
                            <div class="flex justify-start space-x-6 mt-2">
                                <a href="https://www.facebook.com/THresidences" target="_blank" aria-label="Facebook" class="text-gray-600 hover:text-[#3c0008] transition duration-300">
                                    <i class="fa-brands fa-facebook text-2xl"></i>
                                </a>
                                <a href="https://t.me/THResidence" target="_blank" aria-label="Telegram" class="text-gray-600 hover:text-[#3c0008] transition duration-300">
                                    <i class="fa-brands fa-telegram text-2xl"></i>
                                </a>
                                <a href="https://www.instagram.com/thresidences/" target="_blank" aria-label="Instagram" class="text-gray-600 hover:text-[#3c0008] transition duration-300">
                                    <i class="fa-brands fa-instagram text-2xl"></i>
                                </a>
                                <a href="https://www.tiktok.com/@thresidence?lang=en" target="_blank" aria-label="TikTok" class="text-gray-600 hover:text-[#3c0008] transition duration-300">
                                    <i class="fa-brands fa-tiktok text-2xl"></i>
                                </a>
                            </div>
                        </div>

                        <div class="bg-white border-gray-100 text-left flex flex-col items-start ">
                            <h3 class="text-xl font-bold text-gray-800 mb-3 pb-2 border-b border-gray-200 w-full">CONTACT US</h3>
                            <p class="text-gray-700 text-sm leading-normal flex items-start">
                                <i class="fa-solid fa-envelope text-gray-500 mr-3 mt-1"></i>
                                <a href="mailto:thresidence.socialmedia@gmail.com" class="text-gray-700 hover:text-[#3c0008] transition duration-300">thresidence.socialmedia@gmail.com</a>
                            </p>
                            <p class="text-gray-700 text-sm leading-normal flex items-center mt-2">
                                <i class="fa-solid fa-phone text-gray-500 mr-3"></i>
                                <a href="tel:+85598765432" class="text-gray-700 hover:text-[#3c0008] transition duration-300"> 087 211 122</a>
                            </p>
                            <p class="text-gray-700 text-sm leading-normal flex items-start mt-2">
                                <i class="fa-solid fa-location-dot text-gray-500 mr-3 mt-1 flex-shrink-0"></i>
                                <a href="https://www.google.com/maps/search/?api=1&query=No.+1094,+Sola+Street+(371),+Phum+Trea,+Sangkat+Steung+Meanchey,+Phnom+Penh,+Cambodia" target="_blank" class="text-gray-700 hover:text-[#3c0008] transition duration-300 flex-grow"> Sola Street ( 371 ), Phum Trea,<br>Sangkat Steung Meanchey, Phnom Penh, Cambodia</a>
                            </p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="flex flex-col sm:flex-row justify-center items-center space-y-4 sm:space-y-0 sm:space-x-4 mt-12 animate-fade-in-up delay-400 px-4">
                <input type="email" placeholder="Enter your email address" class="w-full sm:w-auto flex-grow px-4 py-3 rounded-md border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-800 placeholder-gray-500">
                <button class="w-full sm:w-auto bg-[#3c0008] hover:text-[#3c0008] text-center py-3 px-6 rounded-md hover:bg-[#F5EFEB] text-white transition-colors duration-300 ease-in-out transform hover:scale-105 font-semibold">
                    Subscribe
                </button>
            </div>
        </div>
    </section>

    <section class="py-10 bg-white text-gray-800">
        <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
            <h2 class="text-2xl font-bold animate-fade-in-up">LOCATION</h2>
            <p class="max-w-4xl mx-auto text-base leading-relaxed text-center mb-10 animate-fade-in-up delay-100">
                Find us easily at our project site in Dong Kao I, Phnom Penh.
            </p>

            <div class="relative w-full h-72 md:h-96 rounded-lg overflow-hidden shadow-xl animate-fade-in-up delay-200 map-container">
                <iframe
                    src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3853.6167907627287!2d104.85615751049326!3d11.507753245231775!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3109518124b3895b%3A0xaa92d9552d0aa78e!2sTH%20Residence%20Dangkoa%20I!5e1!3m2!1sen!2skh!4v1753342985010!5m2!1sen!2skh"
                    width="100%"
                    height="100%"
                    style="border:0;"
                    allowfullscreen=""
                    loading="lazy"
                    referrerpolicy="no-referrer-when-downgrade">
                </iframe>
            </div>
        </div>
    </section>

    <footer class="bg-gray-100 text-[#3C0008] py-8 text-center text-sm">
        <p>© <span id="current-year-footer"></span> TH Residence. All rights reserved.</p>
    </footer>

    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script>
        // Initialize AOS
        AOS.init();

        // --- Navbar Logic ---
        const navItemsData = [
            { id: 'home', iconSvg: '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-home"><path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>', text: 'HOME', href: 'Home_Page.html' },
            { id: 'projects', iconSvg: '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucude-building"><rect width="16" height="20" x="4" y="2" rx="2" ry="2"/><path d="M9.5 16h5"/><path d="M9.5 12h5"/><path d="M9.5 8h5"/></svg>', text: 'OUR PROJECT', href: 'Home_Page.html#properties-section' },
            { id: 'about', iconSvg: '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-info"><circle cx="12" cy="12" r="10"/><path d="M12 16v-4"/><path d="M12 8h.01"/></svg>', text: 'ABOUT US', href: 'Home_Page.html#about-us-section' },
            { id: 'media', iconSvg: '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-camera"><path d="M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z"/><circle cx="12" cy="13" r="3"/></svg>', text: 'MEDIA', href: 'Home_Page.html#th-group-section' },
        ];

        const navMenuDesktop = document.getElementById('nav-menu-desktop');
        const navMenuMobile = document.getElementById('nav-menu-mobile');
        const mobileMenuButton = document.getElementById('mobile-menu-button');
        const mobileMenuCloseButton = document.getElementById('mobile-menu-close-button');
        const mobileMenuOverlay = document.getElementById('mobile-menu-overlay');
        const mainNavbar = document.getElementById('main-navbar'); // Get the navbar element

        let lastScrollY = 0; // To store the last scroll position

        // Function to render navigation items
        function renderNavItems() {
            // Clear existing items for both menus
            navMenuDesktop.innerHTML = '';
            navMenuMobile.querySelector('ul').innerHTML = ''; // Select the ul inside the mobile menu

            const isMobileView = window.innerWidth < 768;

            navItemsData.forEach(item => {
                // Create desktop list item
                const liDesktop = document.createElement('li');
                liDesktop.className = 'relative group transition-all duration-300 ease-in-out hover:bg-gray-100 flex items-center justify-center min-w-[120px] h-[40px]';

                const aDesktop = document.createElement('a');
                aDesktop.href = item.href;
                aDesktop.className = 'relative group flex items-center justify-center text-black font-semibold hover:text-[#3C0008] transition-colors duration-300 ease-in-out w-[100px] h-full';

                const iconWrapperDesktop = document.createElement('span');
                iconWrapperDesktop.className = `icon-wrapper absolute inset-0 flex items-center justify-center w-100 h-full transition-opacity duration-300 ease-in-out opacity-100 pointer-events-auto`;
                const iconSpanDesktop = document.createElement('span');
                iconSpanDesktop.className = 'icon-20';
                iconSpanDesktop.innerHTML = item.iconSvg;
                iconWrapperDesktop.appendChild(iconSpanDesktop);

                const textWrapperDesktop = document.createElement('span');
                textWrapperDesktop.className = `text-wrapper absolute inset-0 flex items-center justify-center w-full h-full transition-opacity duration-300 ease-in-out opacity-0 pointer-events-none`;
                const textSpanDesktop = document.createElement('span');
                textSpanDesktop.className = 'text-[12px] md:text-[12px] font-semibold';
                textSpanDesktop.textContent = item.text;
                textWrapperDesktop.appendChild(textSpanDesktop);

                aDesktop.appendChild(iconWrapperDesktop);
                aDesktop.appendChild(textWrapperDesktop);
                liDesktop.appendChild(aDesktop);

                liDesktop.addEventListener('mouseenter', () => {
                    iconWrapperDesktop.classList.remove('opacity-100');
                    iconWrapperDesktop.classList.add('opacity-0');
                    textWrapperDesktop.classList.remove('opacity-0', 'pointer-events-none');
                    textWrapperDesktop.classList.add('opacity-100');
                });
                liDesktop.addEventListener('mouseleave', () => {
                    iconWrapperDesktop.classList.remove('opacity-0');
                    iconWrapperDesktop.classList.add('opacity-100');
                    textWrapperDesktop.classList.remove('opacity-100');
                    textWrapperDesktop.classList.add('opacity-0', 'pointer-events-none');
                });
                navMenuDesktop.appendChild(liDesktop);


                // Create mobile list item
                const liMobile = document.createElement('li');
                liMobile.className = 'p-3 hover:bg-gray-100 rounded-md transition-colors duration-200 ease-in-out'; // Simpler styling for mobile
                const aMobile = document.createElement('a');
                aMobile.href = item.href;
                aMobile.className = 'flex items-center space-x-4 text-black font-semibold text-[12px] md:text-[12px] hover:text-[#3C0008]'; // Always show text on mobile menu

                const iconMobile = document.createElement('span');
                iconMobile.className = 'icon-20';
                iconMobile.innerHTML = item.iconSvg;
                aMobile.appendChild(iconMobile);

                const textMobile = document.createElement('span');
                textMobile.textContent = item.text;
                aMobile.appendChild(textMobile);

                liMobile.appendChild(aMobile);
                navMenuMobile.querySelector('ul').appendChild(liMobile);

                // On mobile, clicking a nav item should close the menu
                if (isMobileView) {
                    liMobile.addEventListener('click', () => {
                        closeMobileMenu();
                    });
                }
            });
        }

        // Function to open mobile menu
        function openMobileMenu() {
            navMenuMobile.classList.remove('translate-x-full');
            navMenuMobile.classList.add('translate-x-0');
            mobileMenuOverlay.classList.remove('hidden');
            setTimeout(() => mobileMenuOverlay.classList.remove('opacity-0'), 10); // Delay for transition
            document.body.classList.add('overflow-hidden'); // Prevent scrolling body when menu is open
        }

        // Function to close mobile menu
        function closeMobileMenu() {
            navMenuMobile.classList.remove('translate-x-0');
            navMenuMobile.classList.add('translate-x-full');
            mobileMenuOverlay.classList.add('opacity-0');
            mobileMenuOverlay.addEventListener('transitionend', function handler() {
                mobileMenuOverlay.classList.add('hidden');
                mobileMenuOverlay.removeEventListener('transitionend', handler);
            });
            document.body.classList.remove('overflow-hidden'); // Allow body scrolling
        }

        // Toggle mobile menu
        mobileMenuButton.addEventListener('click', openMobileMenu);
        mobileMenuCloseButton.addEventListener('click', closeMobileMenu);
        mobileMenuOverlay.addEventListener('click', closeMobileMenu); // Close when clicking overlay

        // Listen for resize events to adjust nav item rendering and menu state
        window.addEventListener('resize', () => {
            renderNavItems();
            if (window.innerWidth >= 768) {
                closeMobileMenu(); // Ensure mobile menu is closed on desktop view
            }
        });

        // --- Navbar Hide/Show on Scroll Logic ---
        window.addEventListener('scroll', () => {
            const currentScrollY = window.scrollY;

            // Apply on all devices
            // Added a check to ensure mainNavbar exists and has a height before proceeding
            if (mainNavbar && mainNavbar.offsetHeight > 0) {
                if (currentScrollY > lastScrollY && currentScrollY > mainNavbar.offsetHeight) {
                    // Scrolling down and past the navbar height
                    mainNavbar.classList.add('navbar-hidden');
                }
                // Scrolling up
                else if (currentScrollY < lastScrollY) {
                    mainNavbar.classList.remove('navbar-hidden');
                }
            }
            lastScrollY = currentScrollY;
        });


        // --- Shophouse Main Carousel Logic ---
        // Declare carousel elements globally or ensure they are passed/accessed correctly
        let shophouseCarousel;
        let shophouseIndicatorsContainer;
        let shophousePrevButton;
        let shophouseNextButton;

        const shophouseImages = [
            "Image/SHOPHOUSE_EVENING_VIEW022.jpg",
            "Image/TH_SHOPHOUSE V05.jpg",
            "Image/TH_SHOPHOUSE V02.jpg",
            "Image/TH_SHOPHOUSE V03.jpg"
        ];

        let currentShophouseDisplayIndex = 0;
        let autoPlayIntervalShophouse;

        function initializeShophouseCarousel() {
            shophouseCarousel = document.getElementById('shophouse-carousel');
            shophouseIndicatorsContainer = document.getElementById('shophouse-indicators');
            shophousePrevButton = document.getElementById('shophouse-prev');
            shophouseNextButton = document.getElementById('shophouse-next');

            if (!shophouseCarousel || !shophouseIndicatorsContainer || !shophousePrevButton || !shophouseNextButton) {
                console.error("Shophouse carousel elements not found. Skipping initialization.");
                return;
            }

            shophouseCarousel.innerHTML = '';
            shophouseIndicatorsContainer.innerHTML = '';

            const shophouseCarouselSlides = [
                shophouseImages[shophouseImages.length - 1],
                ...shophouseImages,
                shophouseImages[0]
            ];

            shophouseCarouselSlides.forEach((src, index) => {
                const img = document.createElement('img');
                img.src = src;
                img.alt = `Shophouse Image ${index + 1}`;
                img.classList.add('carousel-slide', 'clickable-image');
                img.setAttribute('data-fullsrc', src);
                shophouseCarousel.appendChild(img);
            });

            shophouseImages.forEach((_, index) => {
                const dot = document.createElement('div');
                dot.classList.add('indicator-dot');
                dot.addEventListener('click', () => {
                    showShophouseSlide(index + 1);
                    resetAutoPlayShophouse();
                });
                shophouseIndicatorsContainer.appendChild(dot);
            });

            currentShophouseDisplayIndex = 1;
            showShophouseSlide(currentShophouseDisplayIndex, false);
            startAutoPlayShophouse();

            shophouseNextButton.addEventListener('click', nextShophouseSlide);
            shophousePrevButton.addEventListener('click', prevShophouseSlide);
        }

        function showShophouseSlide(index, smoothTransition = true) {
            if (!shophouseCarousel) {
                console.error("shophouseCarousel is null in showShophouseSlide. Cannot update style.");
                return;
            }

            const totalOriginalSlides = shophouseImages.length;
            const displaySlidesCount = totalOriginalSlides + 2;

            shophouseCarousel.style.transition = smoothTransition ? 'transform 0.5s ease-in-out' : 'none';
            shophouseCarousel.style.transform = `translateX(-${index * 100}%)`;
            currentShophouseDisplayIndex = index;

            if (shophouseIndicatorsContainer) {
                let originalIndex = (index - 1 + totalOriginalSlides) % totalOriginalSlides;
                Array.from(shophouseIndicatorsContainer.children).forEach((dot, i) => {
                    dot.classList.toggle('active', i === originalIndex);
                });
            }

            if (index === displaySlidesCount - 1) {
                setTimeout(() => {
                    showShophouseSlide(1, false);
                }, 500);
            } else if (index === 0) {
                setTimeout(() => {
                    showShophouseSlide(totalOriginalSlides, false);
                }, 500);
            }
        }

        function nextShophouseSlide() {
            showShophouseSlide(currentShophouseDisplayIndex + 1);
            resetAutoPlayShophouse();
        }

        function prevShophouseSlide() {
            showShophouseSlide(currentShophouseDisplayIndex - 1);
            resetAutoPlayShophouse();
        }

        function startAutoPlayShophouse() {
            stopAutoPlayShophouse();
            autoPlayIntervalShophouse = setInterval(() => {
                showShophouseSlide(currentShophouseDisplayIndex + 1);
            }, 5000);
        }

        function stopAutoPlayShophouse() {
            clearInterval(autoPlayIntervalShophouse);
        }

        function resetAutoPlayShophouse() {
            stopAutoPlayShophouse();
            startAutoPlayShophouse();
        }

        // Event listeners for carousel navigation
        // These are initialized in initializeShophouseCarousel, no need to duplicate here.

        // --- Image Modal/Lightbox Logic with Carousel ---
        const imageModal = document.getElementById('image-modal');
        const modalImage = document.getElementById('modal-image');
        const prevButton = document.getElementById('prev-image-button');
        const nextButton = document.getElementById('next-image-button');

        const clickableImages = document.querySelectorAll('.clickable-image');

        let currentImageGroup = [];
        let currentImageIndex = 0;

        function showImageInModal(index) {
            if (currentImageGroup.length > 0 && index >= 0 && index < currentImageGroup.length) {
                modalImage.src = currentImageGroup[index];
                currentImageIndex = index;

                prevButton.classList.toggle('hidden', currentImageGroup.length <= 1);
                nextButton.classList.toggle('hidden', currentImageGroup.length <= 1);
            }
        }

        clickableImages.forEach(image => {
            image.addEventListener('click', function() {
                let groupImages = [];
                let clickedImageSrc = this.getAttribute('data-fullsrc') || this.src;

                // Determine the group of images based on parent container
                if (this.closest('#shophouse-carousel')) { // Changed from linkhouse-carousel to shophouse-carousel
                    groupImages = shophouseImages.map(src => src); // Use raw paths for carousel images
                }
                else if (this.closest('.interior-image-container')) {
                    groupImages = Array.from(document.querySelectorAll('.interior-image-container .clickable-image')).map(img => img.getAttribute('data-fullsrc') || img.src);
                }
                else if (this.closest('.plan-image-container')) {
                    groupImages = Array.from(document.querySelectorAll('.plan-image-container .clickable-image')).map(img => img.getAttribute('data-fullsrc') || img.src);
                }
                else {
                    groupImages = [clickedImageSrc];
                }

                currentImageGroup = groupImages;
                currentImageIndex = currentImageGroup.indexOf(clickedImageSrc);

                if (currentImageGroup.length > 0) {
                    showImageInModal(currentImageIndex);
                    imageModal.classList.add('open');
                    document.body.classList.add('modal-open');
                }
            });
        });

        prevButton.addEventListener('click', (event) => {
            event.stopPropagation();
            if (currentImageGroup.length > 1) {
                const prevIndex = (currentImageIndex - 1 + currentImageGroup.length) % currentImageGroup.length;
                showImageInModal(prevIndex);
            }
        });

        nextButton.addEventListener('click', (event) => {
            event.stopPropagation();
            if (currentImageGroup.length > 1) {
                const nextIndex = (currentImageIndex + 1) % currentImageGroup.length;
                showImageInModal(nextIndex);
            }
        });

        imageModal.addEventListener('click', function(event) {
            if (event.target === imageModal) {
                imageModal.classList.remove('open');
                document.body.classList.remove('modal-open');
                modalImage.src = '';
                currentImageGroup = [];
                currentImageIndex = 0;
            }
        });

        document.addEventListener('keydown', function(event) {
            if (event.key === 'Escape' && imageModal.classList.contains('open')) {
                imageModal.classList.remove('open');
                document.body.classList.remove('modal-open');
                modalImage.src = '';
                currentImageGroup = [];
                currentImageIndex = 0;
            }
        });

        // Initialize the shophouse carousel when the DOM is ready
        document.addEventListener('DOMContentLoaded', initializeShophouseCarousel);


        // JavaScript for active navigation link highlighting (adapted for shophouse-details)
        function highlightActiveLink() {
            const currentPath = window.location.pathname.split('/').pop(); // Get current page filename
            navItemsData.forEach(item => {
                // For desktop menu
                const linkElementDesktop = navMenuDesktop.querySelector(`a[href="${item.href}"]`);
                if (linkElementDesktop) {
                    const linkPath = item.href.split('#')[0].split('/').pop();
                    const linkHash = item.href.split('#')[1];

                    // Special handling for shophouse-details.html to highlight "OUR PROJECT"
                    if (currentPath === 'shophouse-details.html' && item.id === 'projects') {
                        linkElementDesktop.classList.add('active-link'); // Apply active-link to the 'a' tag
                    } else if (linkPath === currentPath) {
                        if (linkHash) {
                            const section = document.getElementById(linkHash);
                            if (section && isElementInViewport(section)) {
                                linkElementDesktop.classList.add('active-link');
                            } else {
                                linkElementDesktop.classList.remove('active-link');
                            }
                        } else {
                            linkElementDesktop.classList.add('active-link');
                        }
                    } else {
                        linkElementDesktop.classList.remove('active-link');
                    }
                }

                // For mobile menu (simple active state based on href)
                const linkElementMobile = navMenuMobile.querySelector(`a[href="${item.href}"]`);
                if (linkElementMobile) {
                    if (currentPath === 'shophouse-details.html' && item.id === 'projects') {
                        linkElementMobile.classList.add('text-[#3C0008]', 'font-bold'); // Highlight mobile link
                    } else if (item.href.includes(currentPath)) {
                        linkElementMobile.classList.add('text-[#3C0008]', 'font-bold');
                    } else {
                        linkElementMobile.classList.remove('text-[#3C0008]', 'font-bold');
                    }
                }
            });
        }

        // Helper function to check if element is in viewport
        function isElementInViewport(el) {
            const rect = el.getBoundingClientRect();
            return (
                rect.top >= 0 &&
                rect.left >= 0 &&
                rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&
                rect.right <= (window.innerWidth || document.documentElement.clientWidth)
            );
        }

        // Call highlight function on scroll and load
        window.addEventListener('scroll', highlightActiveLink);
        document.addEventListener('DOMContentLoaded', () => {
            highlightActiveLink();
            document.getElementById('current-year-footer').textContent = new Date().getFullYear();
            renderNavItems();

            // Set body padding-top dynamically based on navbar height
            // Ensure mainNavbar is available before trying to get its offsetHeight
            if (mainNavbar) {
                const navbarHeight = mainNavbar.offsetHeight;
                document.body.style.paddingTop = `${navbarHeight}px`;
                document.body.style.scrollPaddingTop = `${navbarHeight}px`;
            }
        });
    </script>
</body>
</html>